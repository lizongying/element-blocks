!function(){const s=e=>{e=(new XPathEvaluator).createExpression(e).evaluate(document,XPathResult.STRING_TYPE);return e?e.stringValue.trim():""},r=e=>{var o=e.textContent.trim();let r="";for(let i=1;i<10;i++){let t=e;for(let e=0;t&&t.nodeType===Node.ELEMENT_NODE;t=t.parentNode){e++;var n=t.tagName.toLowerCase();if(e<i){var l=(t=>{var i=t.tagName.toLowerCase(),o=t.parentNode.childNodes;let r=0;for(let e=0;e<o.length&&(o[e].nodeType!==Node.ELEMENT_NODE||o[e].tagName.toLowerCase()!==i||(r++,o[e]!==t));e++);return r})(t);if(1<l){r="/"+n+"["+l+"]"+r;continue}}r="/"+n+r}if(r="string(/"+r+")",s(r)===o)break;r=""}return r},n={"eb-image":"","eb-title":"","eb-title-xpath":"","eb-price":"","eb-price-xpath":"","eb-description":"","eb-description-xpath":""},l=new Set;l.add("eb-title"),l.add("eb-price"),l.add("eb-description");let a=document.body;const i=document.createElement("style"),c=(document.head.appendChild(i),i.sheet.insertRule(".eb-element-shadow {box-shadow: 0 0 0 3px orange;}"),i.sheet.insertRule(".eb-tips {position: fixed; top: 0; z-index: 99999999; background-color: white; opacity: 1; padding: 10px; width: 420px; font-size: 16px;}"),i.sheet.insertRule(".eb-left {left: 0;}"),i.sheet.insertRule(".eb-right {right: 0;}"),i.sheet.insertRule(".eb-tips, .eb-tips label, .eb-tips input, .eb-tips textarea, .eb-tips span, .eb-choice ul li {margin: 0; font-size: 1em; line-height: 1.5em; color: black; font-family: CenturyGothic, Helvetica, Tahoma, Arial, sans-serif; font: CenturyGothic, Helvetica, Tahoma, Arial, sans-serif;-webkit-font-smoothing: antialiased; -webkit-text-size-adjust: 100%; text-transform: none; letter-spacing: normal; background-color: white;}"),i.sheet.insertRule(".eb-tips label, .eb-tips input, .eb-tips textarea, .eb-tips span {padding: 0; display: inline-block; vertical-align: top;}"),i.sheet.insertRule(".eb-tips input, .eb-tips label, .eb-tips span {min-height: 1.5em; height: 1.5em;}"),i.sheet.insertRule(".eb-tips span {font-weight: normal; cursor: pointer; margin-left: 5px; visibility: hidden}"),i.sheet.insertRule(".eb-tips label {width: 70px; font-weight: bold; cursor: default;}"),i.sheet.insertRule(".eb-tips input, .eb-tips textarea {font-weight: normal; padding: 0; width: 315px; border: none; outline: none; box-shadow: none;}"),i.sheet.insertRule(".eb-tips textarea {resize: none;}"),i.sheet.insertRule(".eb-tips textarea, .eb-tips textarea:focus {height: 6em; min-height: 6em;}"),i.sheet.insertRule(".eb-tips input:focus, .eb-tips textarea:focus {border: none; outline: none; box-shadow: none; background-color: white;}"),i.sheet.insertRule(".eb-tips .image {padding: 0; margin: 0; text-align: center; border-style: none; box-shadow: none;}"),i.sheet.insertRule(".eb-tips img {display: block; margin: 0 auto; max-width: 400px; max-height: 400px; vertical-align: baseline; border-style: none; box-shadow: none;}"),i.sheet.insertRule(".eb-tips .eb-move, .eb-tips .eb-close {display: inline-block; cursor: pointer; font-weight: bold; width: 200px; height: 1.5em;}"),i.sheet.insertRule(".eb-tips .eb-close {text-align: right;}"),i.sheet.insertRule(".eb-choice {position: absolute; z-index: 88888888; background-color: white; padding: 10px; display: none; font-size: 1em;}"),i.sheet.insertRule(".eb-choice ul {padding: 0; margin: 0;}"),i.sheet.insertRule(".eb-choice ul li {list-style-type:none; font-weight: normal; cursor: pointer;}"),i.sheet.insertRule(".eb-tips span:hover, .eb-tips .eb-move:hover, .eb-tips .eb-close:hover, .eb-choice ul li:hover {color: green;}"),document.createElement("div")),d=(c.className="eb-tips eb-right eb-ignore",c.innerHTML=`
<div class="eb-move eb-ignore"><-</div><div class="eb-close eb-ignore">close</div>
<div class="image"><img alt="" src=""/></div>
<label class="eb-ignore" for="eb-title-show">Title:</label><input class="eb-ignore" type="text" readonly id="eb-title-show" value=""/><span class="eb-ignore" data-id="eb-title">x</span><br>
<label class="eb-ignore" for="eb-price-show">Price:</label><input class="eb-ignore" type="text" readonly id="eb-price-show" value=""/><span class="eb-ignore" data-id="eb-price">x</span><br>
<label class="eb-ignore" for="eb-description-show">Descr:</label><textarea class="eb-ignore" readonly id="eb-description-show"/></textarea><span class="eb-ignore" data-id="eb-description">x</span><br>
<pre class="eb-ignore" style="overflow: auto"></pre>`,c.querySelectorAll("span").forEach(i=>{i.onclick=e=>{var t=i.getAttribute("data-id");c.querySelector("#"+t+"-show").value="",d.querySelector("#"+t).style.display="block",l.add(t),n[t]="",c.querySelector("pre").innerHTML=JSON.stringify(n,null,"\t"),i.style.visibility="hidden"}}),c.querySelector(".eb-close").onclick=e=>{document.body.removeChild(c),d&&document.body.removeChild(d),document.head.removeChild(i);var t=document.body.querySelector("#eb-bookmark");t&&document.body.removeChild(t)},c.querySelector(".eb-move").onclick=e=>{e=e.target;"<-"===e.innerText?(e.innerText="->",c.classList.remove("eb-right"),c.classList.add("eb-left")):(e.innerText="<-",c.classList.remove("eb-left"),c.classList.add("eb-right"))},document.body.appendChild(c),document.createElement("div"));d.className="eb-choice eb-ignore",d.innerHTML=`
<ul class="eb-ignore">
<li id="eb-title" class="eb-ignore">title
<li id="eb-price" class="eb-ignore">price
<li id="eb-description" class="eb-ignore">description`,d.querySelectorAll("li").forEach(o=>{o.onclick=e=>{d.style.display="none";var t="eb-"+o.innerText.trim(),i=r(a),i=(i?(n[t+"-xpath"]=i,c.querySelector("pre").innerHTML=JSON.stringify(n,null,"\t"),localStorage.setItem(t,i)):console.log("xpath err",t,document.location.origin),a.textContent.trim());i&&(n[t]=i,c.querySelector("pre").innerHTML=JSON.stringify(n,null,"\t"),console.log("res",n),c.querySelector("#"+t+"-show").value=i,c.querySelector('span[data-id="'+t+'"]').style.visibility="visible",o.style.display="none",l.delete(t))}}),document.body.appendChild(d);var e=document.head.querySelector('meta[property="og:image"]');let t="";if(e)t=e.getAttribute("content");else{let i=[];document.body.querySelectorAll("img").forEach(e=>{var t=Math.floor(e.width*e.height/1e4);t&&i.push({element:e,size:t})}),i.sort((e,t)=>t.size-e.size),0<i.length&&(e=i[0].element,!(t=e.currentSrc||e.src))&&e.getAttribute("data-src")&&(t=(t=(t=e.getAttribute("data-src")).replace("{width}","1000")).replace("{height}","1000"))}t&&(0===t.indexOf("//")?t=document.location.protocol+t:0===t.indexOf("/")&&(t=document.location.origin+t),c.querySelector("img").setAttribute("src",t),n["eb-image"]=t,c.querySelector("pre").innerHTML=JSON.stringify(n,null,"\t"));var e=document.head.querySelector('meta[property="og:title"]');let o="";e?o=e.getAttribute("content"):(e=localStorage.getItem("eb-title"))&&!(o=s(e))&&console.log("xpath err","eb-title",document.location.origin),o&&(c.querySelector("#eb-title-show").value=o,c.querySelector('span[data-id="eb-title"]').style.visibility="visible",n["eb-title"]=o,d.querySelector("#eb-title").style.display="none",l.delete("eb-title"),c.querySelector("pre").innerHTML=JSON.stringify(n,null,"\t"));var e=document.head.querySelector('meta[property="og:description"]');let b="",p=(e?b=e.getAttribute("content"):(e=localStorage.getItem("eb-description"))&&!(b=s(e))&&console.log("xpath err","eb-description",document.location.origin),b&&(c.querySelector("#eb-description-show").value=b,c.querySelector('span[data-id="eb-description"]').style.visibility="visible",n["eb-description"]=b,d.querySelector("#eb-description").style.display="none",l.delete("eb-description"),c.querySelector("pre").innerHTML=JSON.stringify(n,null,"\t")),document.head.querySelector('meta[property="og:price:amount"]')),u=document.head.querySelector('meta[property="og:price:currency"]'),h=(p=p||document.head.querySelector('meta[property="product:price:amount"]'),u=u||document.head.querySelector('meta[property="product:price:currency"]'),"");p&&u?h=u.getAttribute("content")+p.getAttribute("content"):(e=localStorage.getItem("eb-price"))&&!(h=s(e))&&console.log("xpath err","eb-price",document.location.origin),h&&(h=h.replace("USD","$"),c.querySelector("#eb-price-show").value=h,c.querySelector('span[data-id="eb-price"]').style.visibility="visible",n["eb-price"]=h,d.querySelector("#eb-price").style.display="none",l.delete("eb-price"),c.querySelector("pre").innerHTML=JSON.stringify(n,null,"\t")),document.body.onmousemove=e=>{e=e.target;e===a||e===document.body||e.classList.contains("eb-ignore")||(d.style.display="none",a.classList.remove("eb-element-shadow"),(a=e).classList.add("eb-element-shadow"),a.oncontextmenu=e=>{e.preventDefault(),l.size&&(d.style.left=(e=>{let t=e.offsetLeft,i=e.offsetParent;for(;null!=i;)t+=i.offsetLeft,i=i.offsetParent;return t})(a)+"px",d.style.top=(e=>{let t=e.offsetTop,i=e.offsetParent;for(;null!=i;)t+=i.offsetTop,i=i.offsetParent;return t})(a)+"px",100<a.offsetWidth?d.style.width=a.offsetWidth+"px":d.style.width=100..toString(),100<a.offsetHeight?d.style.height=a.offsetHeight+"px":d.style.height=100..toString(),d.style.display="block")})}}();